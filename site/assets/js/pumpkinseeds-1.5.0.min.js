/*! PKS v1.5.0 | pumpkinseeds 2013-11-12 | (c) 2010 Nichole Shannon && NikkiDreams */

var pks=Class.create(!0),_pksTi=0;pks.namespace("core"),pks.core={init:function(){pks.core.controller.setConstants(),$(document).ready(function(){pks.core.controller.events.domReady()})},config:null,model:{isDomReady:!1,isClassReady:!1,isPksCoreActive:!1,isModelReady:!1,jsonResponse:null,pksLogQueue:null},controller:{setConstants:function(){var a=pks.core.constants},events:{domReady:function(){pks.core.model.isDomReady=!0,$(document).trigger("pks.dom:isReady")},configIsReady:function(){pks.core.model.isClassReady=!0,$(document).trigger("pks.core.config:isReady"),"undefined"!=typeof $(pks.core.config.init_logger)&&$(pks.core.config.init_logger).length>0&&(pks.core.config.isLogger=!0),pks.core.api.logger("Event: pks.core.config:isReady"),pks.core.controller.events.coreIsReady()},coreIsReady:function(){pks.core.model.isPksCoreActive=!0,pks.core.api.logger("Event: pks.core:isReady"),$(document).trigger("pks.core:isReady"),pks.core.controller.events.librariesReady(),pks.core.controller.events.corePageData()},librariesReady:function(){"object"==typeof Backbone&&(pks.templates.model.isBackboneReady=!0,pks.core.api.logger("Library: pks.library:isBackbone"),$(document).trigger("pks.library:isBackbone")),"object"==typeof Handlebars&&(pks.templates.model.isHandlebarsReady=!0,pks.core.api.logger("Library: pks.library:isHandlebars"),$(document).trigger("pks.library:isHandlebars")),"object"==typeof Modernizr&&(pks.templates.model.isModernizrReady=!0,pks.core.api.logger("Library: pks.library:isModernizr"),$(document).trigger("pks.library:isModernizr")),"object"==typeof html5&&(pks.templates.model.isHtml5Ready=!0,pks.core.api.logger("Library: pks.library:isHtml5"),$(document).trigger("pks.library:isHtml5")),"object"==typeof _jsv&&(pks.templates.model.isTemplatesReady=!0,pks.core.api.logger("Library: pks.library:isJsRender"),$(document).trigger("pks.library:isJsRender"))},corePageData:function(){setTimeout(function(){pks.core.controller.getCorePageData()},1e3)},corePageDataReady:function(){pks.core.model.isCorePageDataReady=!0},getCorePageDataHandler:{success:function(){$(document).trigger("pks.core.data:end"),pks.core.api.logger("Event: pks.core.data:end")},complete:function(){pks.core.model.isModelReady=!0,$(document).trigger("pks.core:isModelReady"),pks.core.api.logger("Event: pks.core:isModelReady");var a=pks.core.model.jsonResponse;pks.core.model.jsonResponse=a,pks.api.prependApiDataObject(a,"footer")},exception:function(){pks.core.model.isModelReady=!1,$(document).trigger("pks.core.data:end"),pks.core.api.logger("ERROR: Bad Seeds, PKS Core AJAX Request Failed. "+pks.core.model.jsonResponse)}}},getCorePageData:function(){$(document).trigger("pks.core.data:begin"),pks.core.api.logger("Event: pks.core.data:begin");var a=pks.core.controller.getPksCoreURL(),b="";a!==!1&&$.getJSON(a).success(function(){pks.core.controller.events.getCorePageDataHandler.success()}).complete(function(a,b){pks.core.model.jsonResponse=$.parseJSON(a.responseText),pks.core.controller.events.getCorePageDataHandler.complete()}).error(function(a,b,c){pks.core.model.jsonResponse=c,pks.core.controller.events.getCorePageDataHandler.exception()})},getPksCoreURL:function(){var a=pks.core.config.constants.PUMPKINSEEDS_REST_URL,b=pks.core.config.constants.PUMPKINSEEDS_JSON_DATA,c=pks.core.config.requestParameters,d=window.location.host,e="http:",f;return e="http:"===window.location.protocol?"http:":"https:",f=e+"//"+d+a+b,pks.core.api.logger("INFO: pks.core data url: "+f),f?f:!1}},api:{getFormatedTime:function(){var a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=a.getMilliseconds();return 10>b&&(b="0"+b),10>c&&(c="0"+c),10>d&&(d="0"+d),10>e&&(e="0"+e),b+":"+c+":"+d+":"+e},logger:function(a){console.log("PKSLog: ",a,pks.core.model.isClassReady,(new Date).getTime()),pks.core.model.isClassReady&&pks.core.config.isLogger&&($(pks.core.config.init_logger).prepend('<div class="log info">'+_pksTi+" : "+a+" : "+pks.core.api.getFormatedTime()+"</div>"),_pksTi++)}}},pks.core.init(),pks.namespace("core.config"),pks.core.config={init_logger:"#init_logger",isLogger:!1,isCurrentUser:!1,init:function(){pks.core.model.isPksCoreActive?pks.core.controller.events.configIsReady():$(document).on("pks.dom:isReady",function(){pks.core.controller.events.configIsReady()})},constants:{PUMPKINSEEDS_REST_URL:"/assets/data/",PUMPKINSEEDS_JSON_DATA:"seeds.json",JSON_ROOT_NODE:"",requestParameters:{PKS_PARAMETER:"pks",USER_PARAMETER:"pksuser"}}},pks.core.config.init(),pks.namespace("api"),pks.api={init:function(){pks.core.model.isClassReady?pks.api.controller.events.classIsReady():$(document).on("pks.core:isReady",function(){pks.api.controller.events.classIsReady()})},constants:{requestParameters:{},en_us:{}},model:{isClassReady:!1,isModelReady:!1,jsonResponse:null,isFormValid:!1},controller:{events:{classIsReady:function(){$(document).trigger("pks.api:isReady"),pks.api.model.isClassReady=!0,pks.core.api.logger("Event: pks.api:isReady")}}},validation:null,getQueryParameters:function(){var a=pks.core.config.constants.requestParameters;return pks.core.config.constants.formatedParamters=null,pks.core.config.constants.queryParameters=[],pks.core.config.constants.userParameters=null,pks.core.config.constants.formatedParamters},getPksCoreURL:function(){var a=pks.core.config.constants.PUMPKINSEEDS_REST_URL,b,c=window.location.host,d="http:",e,f;return d="http:"===window.location.protocol?"http:":"https:",e=d+"//"+c+a+"/"+b,f=pks.api.getQueryParameters(),null!==f&&(e=e+"?"+f),e},prependApiDataObject:function(a,b){var c='<section class="container" id="pks_core_JSON_sample"><div class="row-fluid"><div class="content span10">			<h2>PKS Core JSON Response</h2>			<label>API Name: '+a.API+"</label>			<label>API Version: "+a.version+"</label>			<h5>Sample Data: "+pks.core.config.constants.PUMPKINSEEDS_JSON_DATA+"</h5>			<label>data.geolocation.country.USA.states:<br/><pre>"+JSON.stringify(a.geolocation.country.USA.states)+"</pre></label>			<label>data.user.identity:<br/><pre>"+JSON.stringify(a.user.identity)+"</pre></label>			<label>data.user.orientation:<br/><pre>"+JSON.stringify(a.user.orientation)+"</pre></label>			<label>data.user.status:<br/><pre>"+JSON.stringify(a.user.status)+"</pre></label>			</div></div></section>";document.getElementById("pks_core_JSON_sample")?$("#pks_core_JSON_sample").fadeOut("slow",function(){$(this).remove(),$(b).before(c)}):$(b).before(c),pks.core.api.logger("API: pks.prependApiDataObject")}},$.fn.serializeObject=function(){var a={},b=this.serializeArray();return $.each(b,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},function(a){a.getUrlVar=function(a){var b=new RegExp(a+"=([^&]*)","i").exec(window.location.search),c=decodeURI(b[1])||"";return b+c}}(jQuery),pks.api.init(),pks.namespace("templates"),pks.templates={init:function(){pks.api.model.isClassReady?pks.templates.controller.events.classIsReady():$(document).on("pks.api:isReady",function(){pks.templates.controller.events.classIsReady()})},model:{isClassReady:!1,isModelReady:!1,isTemplatesReady:!1},controller:{setTemplates:function(){pks.templates.model.isTemplatesReady&&$.templates({pksTemplate:pks.templates.PKS_TEMPLATE})},events:{classIsReady:function(){$(document).trigger("pks.templates:isReady"),pks.templates.model.isClassReady=!0,pks.core.api.logger("Event: pks.templates:isReady"),pks.templates.controller.events.templatesReady()},templatesReady:function(){"object"==typeof _jsv&&(pks.templates.model.isTemplatesReady=!0,pks.core.api.logger("Event: pks.templates:isTemplatesReady"),$(document).trigger("pks.templates:isTemplatesReady"),pks.templates.controller.setTemplates())}}},PKS_TEMPLATE:"<div>SOME HTML FRAGMENT</div>",PKS_DATA_SAMPLE_SECTION:'<section class="container"><div class="row-fluid"><div class="content span10">						<h2>PKS Core JSON Response</h2> 						<label>API Name: {{: +api_name}}</label>						<label>API Version: {{: +api_version}}</label>						<h5>Sample Data: {{: +seed_name}}</h5>						<label>data.user.identity:<br/>{{: +user_identity}}</label>						<label>data.user.orientation:<br/>{{: +user_orientation}}</label>						<label>data.user.status:<br/>{{: +user_status}}</label>						</div></div></section>'},pks.templates.init();
//# sourceMappingURL=pumpkinseeds.min.map